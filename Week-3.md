# Week 3: Outside-In and Legacy Code
## Topics to Cover
The third week of the apprenticeship will cover with more depth the **London School** of TDD, **Test Doubles**, Outside-In testing and **Refactoring**:
  - Outside-In testing
  - Test Doubles
    - Mock
    - Spie
    - Stub
    - Fake
    - Dummy
  - Types of testing
    - E2E
    - Acceptance
    - Integration
    - Unit
  - Refactoring Techniques
    - Golden Master
    - Characterization Test
  - Walking Skeleton

## Exit Criteria
At the end of week 3, the apprentice is capable of **identify the different types of testing**, is able to **test drive simple OO programs using London School**, and **apply test doubles**.

## Slide Decks
*There are no slide decks for this week*

## Useful Resources
- [Outside-In: Double Testing Loop](http://coding-is-like-cooking.info/2013/04/outside-in-development-with-double-loop-tdd/)
- [Does TDD really lead to good design?](https://codurance.com/2015/05/12/does-tdd-lead-to-good-design/)
- [Test Doubles](https://github.com/codurance/apprenticeship/wiki/Test-Doubles)
- [Outside-In design](https://github.com/codurance/apprenticeship/wiki/outside-in-design)
- [Introduction to Walking Skeleton](https://github.com/codurance/apprenticeship/wiki/Walking-Skeleton)
- [Refactoring Legacy Code](https://github.com/codurance/apprenticeship/wiki/Refactor-Legacy-Code)

## Books
- [Refactoring: Improving the Design of Existing Code](https://www.amazon.co.uk/Refactoring-Improving-Design-Existing-Technology/dp/0201485672)
- [Working Effectively with Legacy Code](https://www.amazon.com/Working-Effectively-Legacy-Michael-Feathers/dp/0131177052)

## Schedule

### Day 1: Test Doubles

| Start | Duration | Description        
| ------| -------- | -----------
| 09:00 | 60 m     | Introduction to [Test doubles](https://github.com/codurance/apprenticeship/wiki/Test-Doubles)<ul><li>Terminology</li><ul><li>Mocks</li><li>Stubs</li></ul><li>Best practices</li></ul>
| 10.00 | 30 m     | [Character-copy](https://github.com/codurance/apprenticeship/wiki/Character-copy)
| 10.30 | 15 m     | Break
| 10:45 | 75 m     | <ul><li>[Character-copy continuation](https://github.com/codurance/apprenticeship/wiki/Character-copy)</li><li><b>Learning objectives</b>: Students should use test doubles to test drive a simple OO program</li><li><b>Success criteria</b>: Student is able to test drive the code using test doubles and TDD. Just solving the problem does not count as success</li></ul></li><li>Retrospective</li></ul>
| 12:00 | 60 m     | Lunch 
| 13:00 | 90 m     | Ask a craftsman (week 2 program)
| 15:00 | 15 m     | Break
| 15:15 | 75 m     | Reading, writing and studying (exercises wrap up)

### Day 2: Outside-In TDD I

| Start | Duration | Description        
| ------| -------- | -----------
| 09:00 | 60 m     | Intro to [Outside-In](https://github.com/codurance/apprenticeship/wiki/outside-in-design/) TDD
| 10:00 | 60 m     | [Bank kata](https://github.com/codurance/apprenticeship/wiki/Bank-kata)
| 10.30 | 15 m     | Break
| 10:45 | 75 m     | [Bank kata](https://github.com/codurance/apprenticeship/wiki/Bank-kata)
| 12:00 | 60 m     | Lunch 
| 13:00 | 90 m     | <ul><li>[Bank kata](https://github.com/codurance/apprenticeship/wiki/Bank-kata)</li><li><b>Learning objectives</b>: Students should use outside in TDD test drive a simple OO program</li><li><b>Success criteria</b>: Student is able to test drive the code using outside in TDD. Just solving the problem does not count as success</li></ul></li><li>Retrospective</li></ul>
| 15:00 | 15 m     | Break
| 15:15 | 75 m     | Reading, writing and studying (exercises wrap up)

### Day 3: Outside-In TDD II

| Start | Duration | Description        
| ------| -------- | -----------
| 09:00 | 60 m     | [Walking skeleton](https://github.com/codurance/apprenticeship/wiki/Walking-Skeleton)
| 10:00 | 60 m     | [Shopping Basket Kata](https://github.com/codurance/apprenticeship/wiki/Shopping-Basket-Kata)
| 10.30 | 15 m     | Break
| 10:45 | 75 m     | [Shopping Basket Kata](https://github.com/codurance/apprenticeship/wiki/Shopping-Basket-Kata)
| 12:00 | 60 m     | Lunch 
| 13:00 | 90 m     | <ul><li>[Shopping Basket Kata](https://github.com/codurance/apprenticeship/wiki/Shopping-Basket-Kata)</li><li><b>Learning objectives</b>: Students should use outside in TDD test drive a simple OO program</li><li><b>Success criteria</b>: Student is able to test drive the code using outside in TDD. Just solving the problem does not count as success</li></ul></li><li>Retrospective</li></ul>
| 15:00 | 15 m     | Break
| 15:15 | 75 m     | Reading, writing and studying (exercises wrap up)

### Day 4: Outside-In TDD III
| Start | Duration | Description        
| ------| -------- | -----------
| 09:00 | 60 m     | [Walking skeleton II](https://github.com/codurance/apprenticeship/wiki/Walking-Skeleton)
| 10:00 | 60 m     | [Social Network Kata](https://github.com/codurance/apprenticeship/wiki/Social-Network-Kata)
| 10.30 | 15 m     | Break
| 10:45 | 75 m     | [Social Network Kata](https://github.com/codurance/apprenticeship/wiki/Social-Network-Kata)
| 12:00 | 60 m     | Lunch 
| 13:00 | 90 m     | <ul><li>[Social Network Kata](https://github.com/codurance/apprenticeship/wiki/Social-Network-Kata)</li><li><b>Learning objectives</b>: Students should use outside in TDD test drive a simple OO program</li><li><b>Success criteria</b>: Student is able to test drive the code using outside in TDD. Just solving the problem does not count as success</li></ul></li><li>Retrospective</li></ul>
| 15:00 | 15 m     | Break
| 15:15 | 75 m     | Reading, writing and studying (exercises wrap up)

### Day 5: Legacy Code I

| Start | Duration | Description        
| ------| -------- | -----------
| 09:00 | 30 m     | [Refactoring intro](https://github.com/codurance/apprenticeship/wiki/Refactor-Legacy-Code)
| 09:30 | 60 m     | [Tennis-Refactoring-Kata](https://github.com/emilybache/Tennis-Refactoring-Kata)
| 10.30 | 15 m     | Break
| 10:45 | 75 m     | [Tennis-Refactoring-Kata](https://github.com/emilybache/Tennis-Refactoring-Kata)
| 12:00 | 60 m     | Lunch 
| 13:00 | 120 m    | Characterization tests [Gilded Rose](https://github.com/emilybache/GildedRose-Refactoring-Kata)
| 15:00 | 15 m     | Break
| 15:15 | 75 m     | Golden master [Gilded Rose](https://github.com/emilybache/GildedRose-Refactoring-Kata)
